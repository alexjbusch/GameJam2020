pico-8 cartridge // http://www.pico-8.com
version 27
__lua__
p={
 x=60,
 y=56
}

r={
	x=0,
	y=64,
	w=127,
	h=40
}

t=0

function _update60()
	if (btn(0)) p.x-=1
	if (btn(1)) p.x+=1
	if (btn(2)) p.y-=1
	if (btn(3)) p.y+=1
	t+=1
end

function draw_water(r)
	line(r.x,r.y,r.x+r.w,r.y,12)

	local wt=t*0.006
	local sx=r.x
	local sy=r.y
	local ml=flr(r.w*0.5)
	
	for y=0,r.h-1 do
		local cx=flr(sx+sin(wt+y*1.02)*(y%8)*0.9)
		local cy=flr((sy-y-1)+sin(wt+y*0.01)*0.2)

		local sa=0x6000+(cx+cy*128)*0.5
		local da=0x6000+(sx+(sy+y+1)*128)*0.5
		memcpy(da,sa,ml)
	end

	poke(0x5f5e,0xf1)
	rectfill(r.x,r.y+1,r.x+r.w,127,1)
	poke(0x5f5e,0xff)
end

function _draw()
 cls()
 
 map(0,0,0,0,16,8)
 palt(0,false)
 palt(14,true)
	spr(1,p.x,p.y)
 palt(0,true)
 palt(14,false)

	draw_water(r)
end

__gfx__
00000000ee0000ee0000000022400022000000003330003311d00011000000000000000000000000000000000000000000000000000000000000000000000000
00000000e044440e0224440012200011088eee002330002201100000000000000000000000000000000000000000000000000000000000000000000000000000
00700700044ff440224444401120001188eeeee02230002200100000000000000000000000000000000000000000000000000000000000000000000000000000
00077000044ff440224224940000000088e88eae0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000e04bb40e224224440222240088e88eee0333330001111d00000000000000000000000000000000000000000000000000000000000000000000000000
00700700e0bbbb0e2224444201112200888eeee80222330000001100000000000000000000000000000000000000000000000000000000000000000000000000
00000000e0fccf0e0222222001111200088888800222230000000100000000000000000000000000000000000000000000000000000000000000000000000000
00000000ee0440ee0022220000000000008888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
224000222240002211d00011224000222240002233300033333000333330003311d0001111d0001122400022224000222240002211d000112240002211d00011
12200011122000110110000012200011122000112330002223300022233000220110000001100000122000111220001112200011011000001220001101100000
11200011112000110010000011200011112000112230002222300022223000220010000000100000112000111120001111200011001000001120001100100000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
022224000222240001111d00022224000222240003333300033333000333330001111d0001111d0002222400022224000222240001111d000222240001111d00
01112200011122000000110001112200011122000222330002223300022233000000110000001100011122000111220001112200000011000111220000001100
01111200011112000000010001111200011112000222230002222300022223000000010000000100011112000111120001111200000001000111120000000100
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11d000112240002211d0001111d0001122400022224000223330003311d00011224000222240002211d0001111d0001122400022224000222240002222400022
01100000122000110110000001100000122000111220001123300022011000001220001112200011011000000110000012200011122000111220001112200011
00100000112000110010000000100000112000111120001122300022001000001120001111200011001000000010000011200011112000111120001111200011
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01111d000222240001111d0001111d0002222400022224000333330001111d00022224000222240001111d0001111d0002222400022224000222240002222400
00001100011122000000110000001100011122000111220002223300000011000111220001112200000011000000110001112200011122000111220001112200
00000100011112000000010000000100011112000111120002222300000001000111120001111200000001000000010001111200011112000111120001111200
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11d0001111d000112240002211d000110000000011d0001111d00011224000220000000022400022224000222240002211d0001111d000112240002222400022
0110000001100000122000110110000002244400011000000110000012200011088eee0012200011122000111220001101100000011000001220001112200011
001000000010000011200011001000002244444000100000001000001120001188eeeee011200011112000111120001100100000001000001120001111200011
000000000000000000000000000000002242249400000000000000000000000088e88eae00000000000000000000000000000000000000000000000000000000
01111d0001111d000222240001111d002242244401111d0001111d000222240088e88eee02222400022224000222240001111d0001111d000222240002222400
0000110000001100011122000000110022244442000011000000110001112200888eeee801112200011122000111220000001100000011000111220001112200
00000100000001000111120000000100022222200000010000000100011112000888888001111200011112000111120000000100000001000111120001111200
00000000000000000000000000000000002222000000000000000000000000000088880000000000000000000000000000000000000000000000000000000000
11d000112240002222400022224000222240002211d00011224000222240002222400022224000222240002211d0001111d00011000000003330003322400022
01100000122000111220001112200011122000110110000012200011122000111220001112200011122000110110000001100000022444002330002212200011
00100000112000111120001111200011112000110010000011200011112000111120001111200011112000110010000000100000224444402230002211200011
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000224224940000000000000000
01111d000222240002222400022224000222240001111d00022224000222240002222400022224000222240001111d0001111d00224224440333330002222400
00001100011122000111220001112200011122000000110001112200011122000111220001112200011122000000110000001100222444420222330001112200
00000100011112000111120001111200011112000000010001111200011112000111120001111200011112000000010000000100022222200222230001111200
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002222000000000000000000
22400022000000002240002233300033224000222240002200000000333000333330003322400022224000222240002222400022224000223330003333300033
12200011088eee0012200011233000221220001112200011088eee00233000222330002212200011122000111220001112200011122000112330002223300022
1120001188eeeee01120001122300022112000111120001188eeeee0223000222230002211200011112000111120001111200011112000112230002222300022
0000000088e88eae0000000000000000000000000000000088e88eae000000000000000000000000000000000000000000000000000000000000000000000000
0222240088e88eee0222240003333300022224000222240088e88eee033333000333330002222400022224000222240002222400022224000333330003333300
01112200888eeee801112200022233000111220001112200888eeee8022233000222330001112200011122000111220001112200011122000222330002223300
01111200088888800111120002222300011112000111120008888880022223000222230001111200011112000111120001111200011112000222230002222300
00000000008888000000000000000000000000000000000000888800000000000000000000000000000000000000000000000000000000000000000000000000
2240002211d000113330003333300033333000332240002222400022224000223330003333300033224000222240002200000000224000222240002222400022
12200011011000002330002223300022233000221220001112200011122000112330002223300022122000111220001102244400122000111220001112200011
11200011001000002230002222300022223000221120001111200011112000112230002222300022112000111120001122444440112000111120001111200011
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000022422494000000000000000000000000
0222240001111d000333330003333300033333000222240002222400022224000333330003333300022224000222240022422444022224000222240002222400
01112200000011000222330002223300022233000111220001112200011122000222330002223300011122000111220022244442011122000111220001112200
01111200000001000222230002222300022223000111120001111200011112000222230002222300011112000111120002222220011112000111120001111200
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000222200000000000000000000000000
11d00011333000333330003333300033224000222240002222400022224000222240002222400022224000222240002222400022224000222240002222400022
01100000233000222330002223300022122000111220001112200011122000111220001112200011122000111220001112200011122000111220001112200011
00100000223000222230002222300022112000111120001111200011112000111120001111200011112000111120001111200011112000111120001111200011
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01111d00033333000333330003333300022224000222240002222400022224000222240002222400022224000222240002222400022224000222240002222400
00001100022233000222330002223300011122000111220001112200011122000111220001112200011122000111220001112200011122000111220001112200
00000100022223000222230002222300011112000111120001111200011112000111120001111200011112000111120001111200011112000111120001111200
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
11d00011224000220000000011d000112240002211d0001111d000112240000000400022224000220000000011d00011224000220000000011d0001122400022
01100000122000110224440001100000122000110110000001100000122000444400001112200011022444000110000012200011088eee000110000012200011
001000001120001122444440001000001120001100100000001000001120044ff44000111120001122444440001000001120001188eeeee00010000011200011
000000000000000022422494000000000000000000000000000000000000044ff44000000000000022422494000000000000000088e88eae0000000000000000
01111d00022224002242244401111d000222240001111d0001111d000222204bb4022400022224002242244401111d000222240088e88eee01111d0002222400
00001100011122002224444200001100011122000000110000001100011120bbbb01220001112200222444420000110001112200888eeee80000110001112200
00000100011112000222222000000100011112000000010000000100011110fccf01120001111200022222200000010001111200088888800000010001111200
00000000000000000022220000000000000000000000000000000000000000044000000000000000002222000000000000000000008888000000000000000000
cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
11111111111111111133331111111111111111111111111111111111111111155111111111111111113333111111111111111111119999111111111111111111
11111111111113111333333111111111111113111111111111111111111111fddf11131111111311133333311111111111111311199999911111111111111311
11111111111133113335555311111111111133111111111111111111111131bbbb11331111113311333555531111111111113311999ffff91111111111113311
111d11133335113353355511111d111333351111111d1111111d111333315bb5133511133335113353355511111d111333351199f99fff11111d111333351111
1111111111111133533595111111111111111111111111111111111111155ff55111111111111133533595111111111111111199f99fbf111111111111111111
11111131111133555551111111111131111111111111111111111131155ff55111111131111133555551111111111131111199fffff111111111113111111111
1111133111111335551111111111133111111111111111111111133111555511111113311111133555111111111113311111199fff1111111111133111111111
11335111331111111111d111113351113311d1111111d111113351111111511133335111331111111111d11111335111331111111111d1111133511133111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111133333111333331113333311111113111111131111111311111113111111131111111311111113111111131111111311111113111111131111111311
11111111133333111333331113333311111133111111331111113311111133111111331111113311111133111111331111113311111133111111331111113311
111d1113333311133333111333331113333511133335111333351113333511133335111333351113333511133335111333351113333511133335111333351111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111133311133333111333331113311311111113111111131111111311111113111111131111111311111113111111131111111311111113111111131111111
11111133311133333111333331113313311111133111111331111113311111133111111331111113311111133111111331111113311111133111111331111111
d1111133311133333111333331113333511133335111333351113333511133335111333351113333511133335111333351113333511133335111333351113311
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111333311111111111111111111111111
11111311111111111333331113333311133333111111131111111311111113111333331113333311111113111111131113333331111113111111131111111311
11113311111111111333331113333311133333111111331111113311111133111333331113333311111133111111331133355553111133111111331111113311
111333351111111d1113333311133333111333331113333511133335111333351113333311133333111333351113333511335335551333351113333511133311
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111335335951111111111111111111111
11113111111111111133311133333111333331113311311111113111111131111133311133333111331131111111311111335555511131111111311111113111
11331331111111111111333111333331113333311133133111111331111113311111333111333331113313311111133111111335551113311111133111111311
11113351113311d11111333111333331113333311133335111333351113333511133333111333331113333511133335111331111111133511133335111333311
11111111119999111111111111111111111111111111111111999911111111111111111111111111111111111111111111111111111111111111111111111111
11111113111999999111111311133333111111131111111311199999911333331113333311111113111111131111111311111113111111131113333311133311
1111113311999ffff911113311133333111111331111113311999ffff91333331113333311111133111111331111113311111133111111331113333311133311
11111333351199f99fff1333351113333311133335111333351199f99fff13333311133333111333351113333511133335111333351113333511133333111311
11331111111199f99fbf1111111111111111111111111111111199f99fbf11111111111111111111111111111111111111111111111111111111111111111111
3111331131111199fffff11131111133311133113111111131111199fffff1333111333331113311311111113111111131111111311111113111113331113311
31113313311111199fff1113311111333111331331111113311111199fff11333111333331113313311111133111111331111113311111133111113331113311
11111111335111331111111133511133333111333351113333511133111111113331113333311133335111333351113333511133335111333351113333311111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111113333111111111111111111
11111111111111131111111311111113111111131111111111111113111111131111111311111113111111131111111111111111111333333113333311111111
11111111111111331111113311111133111111331111111111111133111111331111113311111133111111331111111111111111113335555313333311111111
111111111d111333351113333511133335111333351111111d11133335111333351113333511133335111333351111111d1111111d1133533555133333111311
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111133533595111111111111
11331111111113311111133111111331111113311111111111111331111113311111133111111331111113311111111111111111111113355511333111331311
111111d111113351113333511133335111333351113311d11111335111333351113333511133335111333351113311d1111111d1111111111111333111333311
13111111111111111111111111111111111111333311111111111111111111111111119999111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111

__map__
0303060303050505060603030306030600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0603060603030506030306060303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606030602060603040303030606030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0603030303060303030303060602050300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0304030503030405050303030303050500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0306050505030303050503030203030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0605050503030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0603020603060603030302060304060300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
